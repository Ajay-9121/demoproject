var d=Object.defineProperty;var f=(a,e,t)=>e in a?d(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var c=(a,e,t)=>(f(a,typeof e!="symbol"?e+"":e,t),t);import{r as y}from"./index-59952803.js";import{g as p,P as b,H as v,C as k,s as w,a as _}from"./link-8813f171.js";import{j as T}from"./jsx-runtime-d6a842e3.js";const m=a=>{var t;return p().name==="browser"&&a===((t=window==null?void 0:window.location)==null?void 0:t.hostname)};function P(a){var e=new v;return new b(a,e)}class R{constructor(e,t){c(this,"_optedIn");c(this,"_conversionTrackingEnabled",!1);c(this,"_cookieManager");c(this,"_analyticsReporter");c(this,"_pageViewFired",!1);c(this,"_enableDebugging",!1);this.templateData=e,this._optedIn=!t,this.makeReporter(),this.pageView()}calculatePageType(){var i,n,o,s;const e=!!((n=(i=this.templateData.document)==null?void 0:i.__)!=null&&n.staticPage),t=!!((s=(o=this.templateData.document)==null?void 0:o.__)!=null&&s.entityPageSet);let r;if(e)r={name:"static",staticPageId:this.templateData.document.__.name};else if(t)r={name:"entity",pageSetId:this.templateData.document.__.name,id:this.templateData.document.uid};else throw new Error("invalid document type");return r}makeReporter(){var t,r,i,n;if(p().name!=="browser"||!this._optedIn)return;const e=m((r=(t=this.templateData)==null?void 0:t.document)==null?void 0:r.siteInternalHostName)||m((n=(i=this.templateData)==null?void 0:i.document)==null?void 0:n.siteDomain);this._analyticsReporter=P({businessId:this.templateData.document.businessId,pageType:this.calculatePageType(),pageUrl:window.location.href,production:e,referrer:document.referrer,siteId:this.templateData.document.siteId}),this.setDebugEnabled(this._enableDebugging)}canTrack(){return p().name==="browser"&&this._optedIn&&!!this._analyticsReporter}setupConversionTracking(){var e;this._cookieManager=new k,(e=this._analyticsReporter)==null||e.setConversionTrackingEnabled(!0,this._cookieManager.setAndGetYextCookie())}enableTrackingCookie(){this._conversionTrackingEnabled=!0,this.canTrack()&&this.setupConversionTracking()}identify(e){var t;this.canTrack()&&((t=this._analyticsReporter)==null||t.setVisitor(e))}async optIn(){this._optedIn=!0,this.makeReporter(),this._conversionTrackingEnabled&&!this._cookieManager&&this.setupConversionTracking(),this._pageViewFired||await this.pageView()}async pageView(){var e;if(!this.canTrack())return Promise.resolve(void 0);await((e=this._analyticsReporter)==null?void 0:e.pageView()),this._pageViewFired=!0}async track(e,t){var r;if(!this.canTrack())return Promise.resolve();await((r=this._analyticsReporter)==null?void 0:r.track({eventType:w(e)},t))}setDebugEnabled(e){var t;this._enableDebugging=e,(t=this._analyticsReporter)==null||t.setDebugEnabled(e)}trackClick(e,t){return r=>{if(!this.canTrack())return Promise.resolve();if(r.target===null||r.defaultPrevented)return this.track(e,t);const i=r.target;if(i.href===null||i.href===void 0)return this.track(e,t);const n=new URL(i.href);if(n.protocol==="mailto:"||n.protocol==="tel:"||n.protocol==="javascript:"||n.hostname===window.location.hostname)return this.track(e,t);if(i.target&&!i.target.match(/^_(self|parent|top)$/i)||r.ctrlKey||r.shiftKey||r.metaKey)return this.track(e,t);r.preventDefault();const s=()=>{window.location.assign(n)},u=new Promise(l=>{setTimeout(()=>{l()},1e3)});return Promise.race([this.track(e,t),u]).then(s)}}}function U(a){const{children:e,requireOptIn:t,enableTrackingCookie:r,enableDebugging:i,templateData:n}=a,o=y.exports.useRef(null);o.current===null&&(o.current=new R(n,t));const s=o.current;return r&&s.enableTrackingCookie(),(i||x())&&s.setDebugEnabled(!0),T(_.Provider,{value:s,children:e})}function x(){return p().name!=="browser"||typeof window===void 0?!1:!!new URL(window.location.href).searchParams.get("xYextDebug")}const q="/assets/static/phone-057118a0.svg";var D={exports:{}},I="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",S=I,C=S;function h(){}function g(){}g.resetWarningCache=h;var E=function(){function a(r,i,n,o,s,u){if(u!==C){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}a.isRequired=a;function e(){return a}var t={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:e,element:a,elementType:a,instanceOf:e,node:a,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:g,resetWarningCache:h};return t.PropTypes=t,t};D.exports=E();const F="/assets/static/MGMpin-0521d029.svg";const K={limit:5,locale:"en",apiKey:"7a9c82833a884f7befae3b6d8a22fdc0",verticalKey:"locations",experienceKey:"demo",experienceVersion:"STAGING",locationRadius:804672,sessionTrackingEnabled:!0,endpoints:{universalSearch:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/query",verticalSearch:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/vertical/query",questionSubmission:"https://liveapi-sandbox.yext.com/v2/accounts/me/createQuestion",universalAutocomplete:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/autocomplete",verticalAutocomplete:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/vertical/autocomplete",filterSearch:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/filtersearch"}};export{U as A,F as M,q as P,K as a,D as p};
